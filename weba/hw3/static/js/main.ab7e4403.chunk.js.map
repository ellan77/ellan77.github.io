{"version":3,"sources":["utils/storage.ts","index.tsx","components/App/App.tsx"],"names":["setToLocalStorage","key","data","window","localStorage","setItem","ReactDOM","render","process","REACT_APP_API_KEY","REACT_APP_REDIRECT_URL","REACT_APP_SCOPE","REACT_APP_NAME","reqUrl","useState","token","setToken","useEffect","tokenUrl","location","hash","split","console","log","localToken","getItem","href","onClick","document","getElementById"],"mappings":"8KAAaA,EAAoB,SAACC,EAAaC,GAC7CC,OAAOC,aAAaC,QAAQJ,EAAKC,ICGnCI,IAASC,OAAO,mBCDG,WACjB,IADuB,EAOnBC,8RAJFC,EAHqB,EAGrBA,kBACAC,EAJqB,EAIrBA,uBACAC,EALqB,EAKrBA,gBACAC,EANqB,EAMrBA,eAEIC,EAAc,8DAA0DD,EAA1D,kBAAkFD,EAAlF,oCAA6HF,EAA7H,uBAA6JC,GAR1J,EAUCI,mBAAS,IAVV,mBAUlBC,EAVkB,KAUXC,EAVW,KA+BvB,OAdAC,qBAAU,WACR,IFjBgChB,EEiB1BiB,EAAmBf,OAAOgB,SAASC,KAAKC,MAAM,KAAK,GACzD,GAAIH,EACFF,EAASE,GACTlB,EApB8B,QAoBOkB,GACrCI,QAAQC,IAAI,UACP,CACL,IAAMC,GFvBwBvB,EEAA,QFC3BE,OAAOC,aAAaqB,QAAQxB,IEuB/Be,EAASQ,GACTF,QAAQC,IAAIC,GACZF,QAAQC,IAAI,WAEb,IAGD,8BAEIR,GAAS,uBAAGW,KAAMb,GAAT,uBAEVE,GACC,6BACE,2BAAIA,GACJ,uBAAGW,KAAK,IAAIC,QA3BA,WAClBX,EAAS,IACThB,EAbgC,QAaK,MAyB/B,6CDtCM,MAAS4B,SAASC,eAAe,W","file":"static/js/main.ab7e4403.chunk.js","sourcesContent":["export const setToLocalStorage = (key: string, data: any) => {\n  window.localStorage.setItem(key, data);\n};\n\nexport const getFromLocalStorage = (key: string) => {\n  return window.localStorage.getItem(key);\n};\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { App } from \"./components/App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n","import React, { useState, useEffect } from \"react\";\nimport { setToLocalStorage, getFromLocalStorage } from \"../../utils\";\n\nexport const App = () => {\n  const TOKEN_STORAGE_KEY: string = \"TOKEN\";\n  const {\n    REACT_APP_API_KEY,\n    REACT_APP_REDIRECT_URL,\n    REACT_APP_SCOPE,\n    REACT_APP_NAME\n  } = process.env;\n  const reqUrl: string = `https://trello.com/1/authorize?expiration=1day&name=${REACT_APP_NAME}&scope=${REACT_APP_SCOPE}&response_type=token&key=${REACT_APP_API_KEY}&return_url=${REACT_APP_REDIRECT_URL}`;\n\n  let [token, setToken] = useState(\"\");\n\n  const removeToken = () => {\n    setToken(\"\");\n    setToLocalStorage(TOKEN_STORAGE_KEY, \"\");\n  };\n\n  useEffect(() => {\n    const tokenUrl: string = window.location.hash.split(\"=\")[1];\n    if (tokenUrl) {\n      setToken(tokenUrl);\n      setToLocalStorage(TOKEN_STORAGE_KEY, tokenUrl);\n      console.log(\"if\");\n    } else {\n      const localToken: any = getFromLocalStorage(TOKEN_STORAGE_KEY);\n      setToken(localToken);\n      console.log(localToken);\n      console.log(\"else\");\n    }\n  }, []);\n\n  return (\n    <div>\n      {/* Block without Token */}\n      {!token && <a href={reqUrl}>Create Trello Token</a>}\n      {/* Block with Token */}\n      {token && (\n        <div>\n          <p>{token}</p>\n          <a href=\"/\" onClick={removeToken}>\n            You can remove token with this button\n          </a>\n        </div>\n      )}\n    </div>\n  );\n};\n"],"sourceRoot":""}